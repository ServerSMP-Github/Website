<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="/assets/css/bootstrap-icons.min.css">
    <link rel="stylesheet" href="/assets/css/md.min.css">
    <link rel="manifest" href="/assets/json/manifest.json">
    <script src="/assets/js/bootstrap.bundle.min.js"></script>
    <script src="/assets/js/showdown.min.js"></script>
    <title>ServerSMP - Launcher</title>
    <link rel="shortcut icon" href="/assets/image/page/logo.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/assets/image/page/logo.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/assets/image/page/logo.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/assets/image/page/logo.png">
    <link rel="apple-touch-icon" sizes="57x57" href="/assets/image/page/logo.png">
</head>

<style>
    img {
        width: 50%;
    }
</style>

<body>
    <div id="nav"></div>
    <div class="container-xxl" id="body"></div>
    <button type="button" class="btn btn-secondary bottom-right" onclick="mode()" id="settings-btn">
        <i class="bi bi-gear"></i>
    </button>
</body>

<script src="/assets/js/mdToHtml.js"></script>
<script src="/assets/js/navbar.js"></script>
<script>
    mdToHtml('https://raw.githubusercontent.com/Prince527GitHub/ServerSMP/ServerSMP-Launcher/README.md', document.getElementById('body'));

    if (!localStorage.getItem("darkmode")) localStorage.setItem("darkmode", "false");

    if (localStorage.getItem("darkmode") === "true") {
        document.getElementById("settings-btn").innerHTML = `<i class="bi bi-moon"></i>`;
        document.body.style.background = "#23272B";
        document.body.style.color = "#ffffff";
        navbar("/assets/txt/navbarLink.txt", "nav", "custom-dark", "#33383C");
    } else {
        document.getElementById("settings-btn").innerHTML = `<i class="bi bi-sun"></i>`;
        document.body.style.background = "#ffffff";
        document.body.style.color = "#000000";
        navbar("/assets/txt/navbarLink.txt", "nav", "custom-light", "#f8f9fa");
    }

    function mode() {
        if (localStorage.getItem("darkmode") === "true") {
            document.getElementById("settings-btn").innerHTML = `<i class="bi bi-sun"></i>`;
            document.body.style.background = "#ffffff";
            document.body.style.color = "#000000";
            document.body.classList.add("body-transition");
            document.body.classList.toggle = "body-transition";
            navbar("/assets/txt/navbarLink.txt", "nav", "custom-light", "#f8f9fa");
            localStorage.setItem("darkmode", "false");
        } else {
            document.getElementById("settings-btn").innerHTML = `<i class="bi bi-moon"></i>`;
            document.body.style.background = "#23272B";
            document.body.style.color = "#ffffff";
            document.body.classList.add("body-transition");
            document.body.classList.toggle = "body-transition";
            navbar("/assets/txt/navbarLink.txt", "nav", "custom-dark", "#33383C");
            localStorage.setItem("darkmode", "true");
        }
    }

    if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
		    navigator.serviceWorker.register('/assets/js/sw.js');
        });
	}
</script>

</html>