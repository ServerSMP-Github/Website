<!doctype html>
<html lang="en">

<head>

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- ================= Discord web embed & description/title & twitter ================== -->

    <meta property="og:locale" content="en_US">
    <meta property="og:title" content="1̤͉̪͓͋͂͑͞0͔̹͍͍̀̄̄̿͠ͅ0̲͐1̪̓́͟" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://adrianoalasia.com/" />
    <meta property="og:image" content="./assets/logo.jpg" />
    <meta property="og:description" content="Web port of 1̤͉̪͓͋͂͑͞0͔̹͍͍̀̄̄̿͠ͅ0̲͐1̪̓́͟ also known as RSA" />
    <meta name="theme-color" content="#adf3dc">
    <title>1̤͉̪͓͋͂͑͞0͔̹͍͍̀̄̄̿͠ͅ0̲͐1̪̓́͟</title>

    <!-- ================= Favicon ================== -->

    <!-- Standard -->
    <link rel="shortcut icon" href="./assets/logo.jpg">

    <!-- Retina iPad Touch Icon -->
    <link rel="apple-touch-icon" sizes="144x144" href="./assets/logo.jpg">

    <!-- Retina iPhone Touch Icon -->
    <link rel="apple-touch-icon" sizes="114x114" href="./assets/logo.jpg">

    <!-- Standard iPad Touch Icon -->
    <link rel="apple-touch-icon" sizes="72x72" href="./assets/logo.jpg">

    <!-- Standard iPhone Touch Icon -->
    <link rel="apple-touch-icon" sizes="57x57" href="./assets/logo.jpg">

    <!-- ================= Styles & bootstrap ================== -->

    <link rel="manifest" href="/assets/json/manifest.json">
    <link href="/assets/css/bootstrap.min.css" rel="stylesheet">
    <script src="/assets/js/bootstrap.bundle.min.js"></script>
    <link href="/assets/css/style.css" rel="stylesheet">

    <style>
        #header {
            height: 100px;
            float: left;
            margin: 11.2px;
            position: absolute;
        }

        #header2 {
            position: fixed;
            float: right;
            right: 0;
            margin: 11.2px;
        }

        .block {
            background-color: transparent;
            border: 10px solid #fffff2;
            margin: 16px;
            width: 208px;
            height: 208px;
            font-size: 80px;
        }

        .block:hover {
            background-color: rgba(0, 0, 0, 0.250);
        }

        .block_small {
            display: block;
            float: right;
            top: 0;
            background-color: transparent;
            border: 5px solid #fffff2;
            width: 80px;
            font-size: 16px;
        }

        .block_small:hover {
            background-color: rgba(0, 0, 0, 0.250);
        }
    </style>

</head>

<body><noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="nav-bar"></div>

    <h6 style="background-color:#f8d7da;color:#721c24;"><span style="font-weight:bold;color:#721c24;">WARNING:</span>
        This is a terrible version of 1001 a game from Arpi <img
            src="../developers/assets/image/arpidano.jpg" height="16px" width="16px" style="border-radius:50%;"> <span
            style="color:gray;">(you can play the better version <a href="https://adrianoalasia.com/">here</a>)</span>
    </h6>

    <div id="header">
        <h2>Goal: <span id="realnumber"></span></h2>
    </div>

    <div id="header2">
        <button class="btn block_small" onclick="randomNumberButton()">↩</button>
    </div>

    <div>
        <h1 style="font-size: 150px; padding: 80px;" id="number"></h1>
        <button class="btn block" id="remove">-</button>
        <button class="btn block" id="add">+</button>
        <button class="btn block" onclick="randomNumberButton()">↩</button>
    </div>

    <script src="/assets/js/navbar.js"></script>
    <script>
        let finalNumber;

        // make all number 6 digits long
        function pad(num, size) {
            var s = num + "";
            while (s.length < size) s = "0" + s;
            return s;
        }

        // random number then change the dom element
        function randomNumber() {
            var number = Math.floor(Math.random() * 1000000);
            document.getElementById('number').innerHTML = pad(number, 6);
        }
        randomNumber();

        // set final number
        function finalNumberFunction() {
            var number = Math.floor(Math.random() * 1000000);
            finalNumber = number;
            document.getElementById('realnumber').innerHTML = pad(number, 6);
        }
        finalNumberFunction();

        // get button element by id and add event listener
        document.getElementById('add').addEventListener('click', function () {
            // get number element
            var number = document.getElementById('number');
            // get current number
            var current = parseInt(number.innerHTML);
            // add 1000 to current number
            number.innerHTML = current + 1000;
            // check local storage
            var number = document.getElementById('number').innerHTML;
            if (number == finalNumber) {
                stopper();
                document.getElementById('number').innerHTML = `You Win with a time of ${format(finalTime)}sec!`;
                popUp();
            }
        });

        // when keyboard a is pressed
        document.addEventListener('keydown', function (e) {
            if (e.keyCode == 65) {
                // get number element
                var number = document.getElementById('number');
                // get current number
                var current = parseInt(number.innerHTML);
                // add 1000 to current number
                number.innerHTML = current + 1000;
                // check local storage
                var number = document.getElementById('number').innerHTML;
                if (number == finalNumber) {
                    stopper();
                    document.getElementById('number').innerHTML = `You Win with a time of ${format(finalTime)}sec!`;
                    popUp();
                }
            }
        });

        // get button element by id and add event listener
        document.getElementById('remove').addEventListener('click', function () {
            // get number element
            var number = document.getElementById('number');
            // get current number
            var current = parseInt(number.innerHTML);
            // remove 1000 to current number
            number.innerHTML = current - 1000;
            // check local storage
            var number = document.getElementById('number').innerHTML;
            if (number == finalNumber) {
                stopper();
                document.getElementById('number').innerHTML = `You Win with a time of ${format(finalTime)}sec!`;
                popUp();
            }
        });

        // when keyboard s is pressed
        document.addEventListener('keydown', function (event) {
            if (event.keyCode == 83) {
                // get number element
                var number = document.getElementById('number');
                // get current number
                var current = parseInt(number.innerHTML);
                // remove 1000 to current number
                number.innerHTML = current - 1000;
                // check local storage
                var number = document.getElementById('number').innerHTML;
                if (number == finalNumber) {
                    stopper();
                    document.getElementById('number').innerHTML = `You Win with a time of ${format(finalTime)}sec!`;
                    popUp();
                }
            }
        });

        // get button element by id and add event listener
        function randomNumberButton() {
            var number = Math.floor(Math.random() * 1000000);
            document.getElementById('number').innerHTML = pad(number, 6);
            // check local storage
            var number = document.getElementById('number').innerHTML;
            if (number == finalNumber) {
                stopper();
                document.getElementById('number').innerHTML = `You Win with a time of ${format(finalTime)}sec!`;
                popUp();
            }
        }

        // when keyboard hit enter
        document.addEventListener('keydown', function (e) {
            if (e.keyCode == 13) {
                var number = Math.floor(Math.random() * 1000000);
                document.getElementById('number').innerHTML = pad(number, 6);
                // check local storage
                var number = document.getElementById('number').innerHTML;
                if (number == finalNumber) {
                    stopper();
                    document.getElementById('number').innerHTML = `You Win with a time of ${format(finalTime)}sec!`;
                    popUp();
                }
            }
        });

        // popUp
        function popUp() {
            if (confirm("You win, to save your time please click ok to login / create account!")) {
                window.location.href = `https://serversmp.xyz/web/1001/account.html?id=${finalTime}`;
            }
        }

        // stopwatch
        let time = 0;
        let finalTime;
        let Interval;

        // stop stopwatch
        const stopper = () => {
            finalTime = time;
            clearInterval(Interval)
            time = 0;
        }

        // format time
        const format = (time) => {
            var hrs = ~~(time / 3600);
            var mins = ~~((time % 3600) / 60);
            var secs = ~~time % 60;
            var ret = "";
            if (hrs > 0) {
                ret += "" + hrs + ":" + (mins < 10 ? "0" : "");
            }
            ret += "" + mins + ":" + (secs < 10 ? "0" : "");
            ret += "" + secs;
            return ret;
        }

        // start stopwatch
        Interval = setInterval(() => {
            starter();
        }, 10);

        // start stopwatch pt 2
        const starter = async () => {
            time++;
        }

        // fetch navbar
        navbar("/assets/txt/navbarLink.txt", 'nav-bar', 'normal');

        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
		        navigator.serviceWorker.register('/assets/js/sw.js');
            });
	    }
    </script>
</body>

</html>