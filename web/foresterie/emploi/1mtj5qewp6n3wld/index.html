<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="icon" type="image/png" href="../../img/icon.webp">
	<link rel="stylesheet" href="../../../../assets/css/bootstrap-icons.min.css">
	<link rel="stylesheet" href="../../css/reset.css">
	<link rel="stylesheet" href="../../css/style.css">
	<script defer src="../../js/script.js"></script>
	<script async src="../../js/chart.min.js"></script>
	<title>Ouvrier forestier</title>
</head>
<body>

    <!-- loading -->
	<div id="loading" class="center">
		<div class="loading-box">
			<div class="loading-bar"></div>
		</div>
	</div>

    <!-- home button -->
    <div id="button" class="bottom-left disabled">
        <a class="button" href="../index.html">
            <i class="bi bi-house"></i>
        </a>
    </div>

    <!-- body -->
	<div id="body" class="disabled">
		<div class="container">

            <div class="grid">
				<div class="box" style="width:auto">
                    <div id="image" class="bg-img rounded shadow" style="background-image:url('./index.jpg');background-size:cover"></div>
				</div>
			</div>

            <div class="grid">
				<div class="box">
					<h1 class="box-title" id="title">Ouvrier forestier</h1>
					<p class="box-description" id="description">L’Ouvrier forestier est responsable de l'exploitation des forêts et de la construction de chemins forestiers à l'aide de moyens conventionnels et mécaniques.</p>
				</div>
				<div class="box rounded shadow" style="background:#3E3C3C">
					<canvas id="chart" width="400" height="400"></canvas>
					<br>
					<a class="button" href="javascript:setChart(0)">1</a>
					<a class="button" href="javascript:setChart(1)">2</a>
					<a class="button" href="javascript:setChart(2)">3</a>
					<a class="button" href="javascript:setChart(3)">4</a>
					<a class="button" href="javascript:setChart(4)">5</a>
				</div>
			</div>

            <div class="grid">
				<div class="box">
                    <svg style="color:#575757" xmlns="http://www.w3.org/2000/svg" width="auto" height="auto" fill="currentColor" class="bi bi-book" viewBox="0 0 16 16">
                        <path d="M1 2.828c.885-.37 2.154-.769 3.388-.893 1.33-.134 2.458.063 3.112.752v9.746c-.935-.53-2.12-.603-3.213-.493-1.18.12-2.37.461-3.287.811V2.828zm7.5-.141c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492V2.687zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783z"/>
                    </svg>
				</div>
				<div class="box">
                    <h1 class="box-title">Études</h1>
                    <p class="box-description" id="education">Un certificat visant à devenir Ouvrier forestier peut être obtenu en faisant une année d'études à temps plein. </p>
				</div>
			</div>

            <div class="grid">
				<div class="box">
					<h1 class="box-title">Argent</h1>
					<p class="box-description" id="money">
						26,00$ à 53,00$ par heures
						<br>
						63 778$ par année
					</p>
				</div>
				<div class="box">
                    <svg style="color:#3bc423" xmlns="http://www.w3.org/2000/svg" width="auto" height="auto" fill="currentColor" class="bi bi-cash" viewBox="0 0 16 16">
                        <path d="M8 10a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/>
                        <path d="M0 4a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V4zm3 0a2 2 0 0 1-2 2v4a2 2 0 0 1 2 2h10a2 2 0 0 1 2-2V6a2 2 0 0 1-2-2H3z"/>
                    </svg>
				</div>
			</div>

        </div>
    </div>

    <script defer>
		function randomRGB() {
		    const r256 = () =>  Math.random() * 256 >> 0;

			return [
				r256(),
				r256(),
				r256()
			]
		}

		const options = {
			type: "pie",
			data: {
				labels: ["Accepter", "Refuser"],
				datasets: [{
					backgroundColor: [],
					borderColor: []
				}]
			},
			options: {
				responsive: true,
				plugins: {
					legend: {
						position: "top",
						labels: {
							color: "#ccc"
						}
					},
					subtitle: {
						display: true
					},
					title: {
						display: true,
						text: "Pourcentage d'empocher",
						color: "#ccc"
					}
				}
			}
		};

		function setChart(selection) {
			const numbers = [
				20.6,
				47.1,
				5.9,
				11.8,
				14.7
			];

			const subtitle = [
				"Aucun certificat, diplôme ou grade",
				"Diplôme d’études secondaires ou l’équivalent",
				"Certificat ou diplôme d'apprenti ou d'une école des métiers",
				"Collège ou université-niveau inférieur au baccalauréat",
				"Université- baccalauréat ou niveau supérieur au baccalauréat"
			];

			const number = numbers[selection];

			options.options.plugins.subtitle.text = subtitle[selection];
			options.data.datasets[0].data = [
				number,
				100 - number
			];

			const ctx = document.getElementById("chart").getContext("2d");
			if (window.checkChart) window.checkChart.destroy();
			window.checkChart = new Chart(ctx, options);
		}

		for (let index = 0; index < options.data.labels.length; index++) {
			const color = randomRGB();

			options.data.datasets[0].backgroundColor.push(`rgb(${color[0]}, ${color[1]}, ${color[2]}, 0.4)`);
			options.data.datasets[0].borderColor.push(`rgb(${color[0]}, ${color[1]}, ${color[2]})`);
		}

		window.addEventListener('load', () => setChart(1), false);
    </script>

</body>
</html>